

<div *ngIf="currentUser">

    <div class="col-md-6 col-md-offset-3" style="padding-top: 60px;">
        <h3 class="bg-primary encabezado">Actualiza tu contraseña <span class="icon-key2" style="font-size: .75em"></span></h3>

        <div *ngFor="let usuario of currentUser" style="margin-right: 0px; margin-top: 0px; display: inline-block; font-size: 12px;font-weight: normal;" class="">
            <div style="text-align:left">Id:{{usuario.id}}<br>
                Nombre: {{usuario.firstname}} {{usuario.lastname}}<br>
                Usuario: {{usuario.username}} <br>
                Password:{{usuario.password}}
            </div>
        </div>

        <!--<form name="form" class="form-horizontal" (ngSubmit)="f.form.valid && CambiaPassword()" #f="ngForm" novalidate style="font-family:Conv_roundedelegance;">
            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
                <input type="password" class="form-control" name="password" [(ngModel)]="model.password" #password="ngModel" required placeholder="Ingrese el nuevo password"/>
                <div *ngIf="f.submitted && !password.valid" class="help-block">El password es obligatorio</div>
            </div>
            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !new_password.valid }">
                <input type="password" class="form-control" name="new_password" [(ngModel)]="model.new_password" #new_password="ngModel" required placeholder="Confirme el nuevo password"/>
                <div *ngIf="f.submitted && !new_password.valid" class="help-block">La confirmación del password es obligatoria</div>
            </div>
            <div class="form-group">
                <button [disabled]="loading" class="form-control btn btn-info" type="submit">Cambiar</button>
                
                <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />

            </div>
        </form>-->

        <!--<form novalidate name="form" class="form-horizontal" (ngSubmit)="CambiaPassword()" #f="ngForm" style="font-family:Conv_roundedelegance;">
            <div class="form-group" >
                <input type="password" 
                    placeholder="Password"
                     [(ngModel)]="model.password"
                     validateEqualTo="new_password"
                     name="password"
                     required
                     #passwordControl="ngModel"
                    class="form-control"
                />
            </div>


            <div class="form-group">
                <input type="password" placeholder="Confirme el password" class="form-control" name="new_password" [(ngModel)]="model.new_password" #new_password="ngModel" required />
                <input type="submit" value="Submit" [disabled]="f.invalid">
                <p *ngIf="passwordControl.errors?.validateEqual">Passwords don't match</p>
            </div>

            </form>-->
            <!--<div class="form-group">
                <button [disabled]="loading" class="form-control btn btn-info" type="submit">Cambiar</button>
                
                <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />

            </div>-->
        

 <!--<form novalidate #form="ngForm">
  <input type="text"
         placeholder="password"
         ngModel
         validateEqualTo="repeatPassword"
         name="password"
         required
         #passwordControl="ngModel"
  >
  <input type="text" placeholder="confirm" name="repeatPassword" ngModel required>
  <input type="submit" value="Submit" [disabled]="form.invalid">
 <p *ngIf="passwordControl.errors?.validateEqual">Passwords don't match</p>
</form>-->


  <form #f="ngForm" novalidate (ngSubmit)="CambiaPassword()">


    <div class="form-group">
      <label for="">Password</label>
      <input type="password" class="form-control" name="password" [ngModel]="model.password" 
        required validateEqual="new_password" reverse="true" #password="ngModel">
      <small [hidden]="password.valid || (password.pristine && !f.submitted)" class="text-danger">
        Password is required
      </small>
      <!--<pre *ngIf="password.errors" class="margin-20">{{ password.errors | json }}</pre>-->
    </div>
    <div class="form-group">
      <label for="">Retype password</label>
      <input type="password" class="form-control" name="new_password" [ngModel]="model.new_password" 
        required validateEqual="password" reverse="false" #new_password="ngModel">
      <small [hidden]="new_password.valid || (new_password.pristine && !f.submitted)" class="text-danger">
        Password mismatch
      </small>
      <pre *ngIf="confirmPassword.errors" class="margin-20">{{ confirmPassword.errors | json }}</pre>
    </div>
    <button type="submit" class="btn btn-default">Submit</button>

  </form>




    </div>

</div>